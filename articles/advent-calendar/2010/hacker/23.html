<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>YouTube の動画を保存する - Articles Advent Calendar 2010 Hacker</title>
        <meta name="title" content="YouTube の動画を保存する - Articles Advent Calendar 2010 Hacker">
        <meta name="description" content="">
        <meta name="author" content="xaicron">

        <meta property="og:type" content="website">
        <meta property="og:url" content="https://perl-users.jp/articles/advent-calendar/2010/hacker/23">
        <meta property="og:title" content="YouTube の動画を保存する - Articles Advent Calendar 2010 Hacker">
        <meta property="og:description" content="">
        <meta property="og:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:YouTube%20%E3%81%AE%E5%8B%95%E7%94%BB%E3%82%92%E4%BF%9D%E5%AD%98%E3%81%99%E3%82%8B,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:xaicron,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://perl-users.jp/articles/advent-calendar/2010/hacker/23">
        <meta property="twitter:title" content="YouTube の動画を保存する - Articles Advent Calendar 2010 Hacker">
        <meta property="twitter:description" content="">
        <meta property="twitter:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:YouTube%20%E3%81%AE%E5%8B%95%E7%94%BB%E3%82%92%E4%BF%9D%E5%AD%98%E3%81%99%E3%82%8B,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:xaicron,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <link rel="icon" href="/img/favicon.ico">
        <link rel="canonical" href="https://perl-users.jp/articles/advent-calendar/2010/hacker/23">
        <link href="TODO" rel="stylesheet">
    </head>
    <body>
        <h1>YouTube の動画を保存する</h1>
        tag

        <p>&#x6700;&#x8FD1;&#x5BD2;&#x904E;&#x304E;&#x3066;&#x5BB6;&#x304B;&#x3089;&#x3067;&#x3089;&#x308C;&#x306A;&#x3044; xaicron &#x3067;&#x3059;&#x3002; &#x307F;&#x306A;&#x3055;&#x3093; YouTube &#x306E;&#x52D5;&#x753B;&#x3092;&#x30C0;&#x30A6;&#x30F3;&#x30ED;&#x30FC;&#x30C9;&#x3057;&#x305F;&#x3044;&#x3067;&#x3059;&#x3088;&#x306D;&#xFF1F; &#x305D;&#x3093;&#x306A;&#x6642;&#x306F;&#x3001;<a href="http://search.cpan.org/dist/WWW-YouTube-Download">WWW::YouTube::Download</a> &#x3092;&#x4F7F;&#x3044;&#x307E;&#x3057;&#x3087;&#x3046;&#x3002; &#x6B7B;&#x306C;&#x307B;&#x3069;&#x5185;&#x90E8;&#x5B9F;&#x88C5;&#x304C;&#x5909;&#x308F;&#x3063;&#x3066;&#x305D;&#x306E;&#x305F;&#x3073;&#x306B;&#x6CE3;&#x3051;&#x308B; YouTube &#x3067;&#x3059;&#x304C;&#x3001;&#x3044;&#x307E;&#x3060;&#x306B;&#x304F;&#x3058;&#x3051;&#x305A;&#x306B;&#x3061;&#x3083;&#x3093;&#x3068;&#x30E1;&#x30F3;&#x30C6;&#x3057;&#x3066;&#x3044;&#x3066;&#x3001;&#x73FE;&#x5F79;&#x3067;&#x30C0;&#x30A6;&#x30F3;&#x30ED;&#x30FC;&#x30C9;&#x3067;&#x304D;&#x307E;&#x3059;&#x3002;</p>

<h3 id="">&#x57FA;&#x672C;&#x7DE8;</h3>

<pre><code class="prettyprint">    use WWW::YouTube::Download;
    
    my $client = WWW::YouTube::Download-&gt;new;
    $client-&gt;download(&#39;http://www.youtube.com/watch?v=Ry6Rupm3kqM&#39;);</code></pre>

<p>&#x3068;&#x3059;&#x308C;&#x3070;&#x3001;&#x300C;Ry6Rupm3kqM.mp4&#x300D;&#x3068;&#x3044;&#x3046;&#x540D;&#x524D;&#x3067;&#x30C0;&#x30A6;&#x30F3;&#x30ED;&#x30FC;&#x30C9;&#x3055;&#x308C;&#x307E;&#x3059;&#x3002;</p>

<h3 id="1">&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x3092;&#x5909;&#x3048;&#x305F;&#x3044;</h3>

<p>&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x306F;&#x30BF;&#x30A4;&#x30C8;&#x30EB;&#x306B;&#x3057;&#x305F;&#x3044;&#x3068;&#x3053;&#x308D;&#x304B;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x306E;&#x3067;&#x3001;</p>

<pre><code class="prettyprint">    my $params = $client-&gt;prepare_download($vide_id_or_url);
    $client-&gt;download($vide_id_or_url, +{
        file_name =&gt; $params-&gt;{title}.$params-&gt;{suffix},
    });</code></pre>

<p>&#x3068;&#x3044;&#x3046;&#x98A8;&#x306B;&#x3084;&#x308C;&#x3070;&#x3001;&#x3044;&#x3044;&#x3067;&#x3059;&#x3002;</p>

<h3 id="2">&#x30D7;&#x30ED;&#x30B0;&#x30EC;&#x30B9;&#x30D0;&#x30FC;&#x3060;&#x3057;&#x305F;&#x3044;</h3>

<p>&#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x3067;&#x4F7F;&#x3046;&#x5834;&#x5408;&#x306F;&#x9032;&#x6357;&#x304C;&#x307F;&#x308C;&#x308B;&#x3068;&#x3046;&#x308C;&#x3057;&#x3044;&#x3067;&#x3059;&#x306D;&#x3002;</p>

<pre><code class="prettyprint">    $client-&gt;download($vide_id_or_url, +{
        verbose =&gt; 1,
    });</code></pre>

<p>&#x306A;&#x3093;&#x3067;&#x3053;&#x306E;&#x6A5F;&#x80FD;&#x304C;&#x30B3;&#x30A2;&#x306B;&#x3042;&#x308B;&#x3093;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;&#xFF1F;</p>

<h3 id="callback">&#x81EA;&#x5206;&#x3067; callback &#x5B9A;&#x7FA9;&#x3057;&#x305F;&#x3044;&#xFF01;</h3>

<p>&#x30C7;&#x30D5;&#x30A9;&#x30EB;&#x30C8;&#x306E;&#x52D5;&#x304D;&#x306A;&#x3093;&#x304B;&#x3057;&#x3083;&#x3089;&#x304F;&#x3055;&#x3044;&#x306E;&#x3067;&#x3001;&#x81EA;&#x5206;&#x3067; callback &#x95A2;&#x6570;&#x3092;&#x5B9A;&#x7FA9;&#x3057;&#x3066;&#x305D;&#x3044;&#x3064;&#x3067; downalod &#x3057;&#x305F;&#x3044;</p>

<pre><code class="prettyprint">    my $params = $client-&gt;prepare_download($vide_id_or_url);
    my $fh;
    $client-&gt;download($vide_id_or_url, +{
        cb =&gt; sub {
            my ($data, $res, $proto) = @_;
            unless ($fh) {
                open $fh, &#39;&gt;&#39;, $params-&gt;{title}.$params{suffix} or die $!;
            }
            print $fh $data;
            system &#39;sl&#39;;
        },
    });</code></pre>

<p>&#x3053;&#x308C;&#x3067; 1 chunk &#x3054;&#x3068;&#x306B; sl &#x30B3;&#x30DE;&#x30F3;&#x30C9;&#x304C;&#x8D70;&#x308B;&#x306E;&#x3067;&#x3060;&#x3044;&#x3076;&#x4FBF;&#x5229;&#x3067;&#x3059;&#x3002;</p>

<h3 id="3">&#x30D1;&#x30E9;&#x30EC;&#x30EB;&#x3067;&#x30C0;&#x30A6;&#x30F3;&#x30ED;&#x30FC;&#x30C9;&#x3057;&#x305F;&#x3044;</h3>

<pre><code class="prettyprint">    use strict;
    use warnings;
    use WWW::YouTube::Download;
    use Parallel::ForkManager;

    my $urls = [qw{
        http://www.youtube.com/watch?v=JS0CxKuocsE
        http://www.youtube.com/watch?v=LYhuBOOBunU
        http://www.youtube.com/watch?v=tDWgt8Asj68
    }];

    my $pm = Parallel::ForkManager-&gt;new(scalar @$urls);
    for my $url (@$urls) {
        my $pid = $pm-&gt;start and next;

        my $client = WWW::YouTube::Download-&gt;new;
        $client-&gt;download($url);

        $pm-&gt;finish;
    }

    $pm-&gt;wait_all_children;</code></pre>

<p>&#x305F;&#x3076;&#x3093;&#x3053;&#x3093;&#x306A;&#x611F;&#x3058;&#x3067;&#x3044;&#x3044;&#x3067;&#x3057;&#x3087;&#x3046;&#x3002;</p>

<h3 id="4">&#x307E;&#x3068;&#x3081;</h3>

<p>&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30D5;&#x30A7;&#x30FC;&#x30B9;&#x306F; <a href="http://search.cpan.org/dist/WWW-NicoVideo-Download/">WWW::NicoVide::Download</a> &#x3092;&#x3060;&#x3044;&#x3076;&#x30D1;&#x30AF;&#x30EA;&#x307E;&#x3057;&#x305F;&#x304C;&#x3001;&#x3082;&#x3057;&#x304B;&#x3057;&#x3066; Download &#x7CFB;&#x306E;&#x30E2;&#x30B8;&#x30E5;&#x30FC;&#x30EB;&#x306E;&#x9700;&#x8981;&#x304C;&#x3044;&#x3063;&#x3071;&#x3044;&#x3042;&#x308B;&#x3088;&#x3046;&#x3060;&#x3063;&#x305F;&#x3089;&#x3001;&#x5171;&#x901A;&#x306E;&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30D5;&#x30A7;&#x30FC;&#x30B9;&#x3092;&#x8003;&#x3048;&#x305F;&#x65B9;&#x304C;&#x306A;&#x306B;&#x304B;&#x3068;&#x518D;&#x5229;&#x7528;&#x6027;&#x304C;&#x9AD8;&#x307E;&#x308B;&#x306A;&#x30FC;&#x3068;&#x3044;&#x307E;&#x3075;&#x3068;&#x601D;&#x3044;&#x307E;&#x3057;&#x305F;&#x3002; &#x3067;&#x3082;&#x7279;&#x306B;&#x8FD1;&#x3005;&#x3067;&#x66F8;&#x304F;&#x4E88;&#x5B9A;&#x306F;&#x306A;&#x3044;&#x306E;&#x3067;&#x8AB0;&#x304B;&#x8003;&#x3048;&#x3066;&#x304F;&#x308C;&#x308B;&#x3068;&#x3046;&#x308C;&#x3057;&#x3044;&#x3067;&#x3059;&#x306D;&#xFF01;</p>

<h1 id="POD-ERRORS">POD ERRORS</h1>

<p>Hey! <b>The above document had some coding errors, which are explained below:</b></p>

<dl>

<dt>Around line 3:</dt>
<dd>

<p>Non-ASCII character seen before =encoding in &#39;&#x6700;&#x8FD1;&#x5BD2;&#x904E;&#x304E;&#x3066;&#x5BB6;&#x304B;&#x3089;&#x3067;&#x3089;&#x308C;&#x306A;&#x3044;&#39;. Assuming CP1252</p>

</dd>
</dl>


        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>
    </body>
</html>
