<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>Acme合体で猫-トースト装置をつくる - Articles Advent Calendar 2010 Acme</title>
        <meta name="title" content="Acme合体で猫-トースト装置をつくる - Articles Advent Calendar 2010 Acme">
        <meta name="description" content="">
        <meta name="author" content="makamaka">

        <meta property="og:type" content="website">
        <meta property="og:url" content="https://perl-users.jp/articles/advent-calendar/2010/acme/16">
        <meta property="og:title" content="Acme合体で猫-トースト装置をつくる - Articles Advent Calendar 2010 Acme">
        <meta property="og:description" content="">
        <meta property="og:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:Acme%E5%90%88%E4%BD%93%E3%81%A7%E7%8C%AB-%E3%83%88%E3%83%BC%E3%82%B9%E3%83%88%E8%A3%85%E7%BD%AE%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:makamaka,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://perl-users.jp/articles/advent-calendar/2010/acme/16">
        <meta property="twitter:title" content="Acme合体で猫-トースト装置をつくる - Articles Advent Calendar 2010 Acme">
        <meta property="twitter:description" content="">
        <meta property="twitter:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:Acme%E5%90%88%E4%BD%93%E3%81%A7%E7%8C%AB-%E3%83%88%E3%83%BC%E3%82%B9%E3%83%88%E8%A3%85%E7%BD%AE%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:makamaka,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <link rel="icon" href="/img/favicon.ico">
        <link rel="canonical" href="https://perl-users.jp/articles/advent-calendar/2010/acme/16">
        <link href="TODO" rel="stylesheet">
    </head>
    <body>
        <h1>Acme合体で猫-トースト装置をつくる</h1>
        tag
            <a href='/tag/perl'>perl</a>
            <a href='/tag/acme'>acme</a>

        <p>(firstly written in Japanese, later in English)</p><p>ワタシハ　<a href="http://twitter.com/maka2_donzoko">makamaka</a>　コンゴトモヨロシク・・・</p><p>皆さん、<a href="http://ja.uncyclopedia.info/wiki/%E7%8C%AB-%E3%83%88%E3%83%BC%E3%82%B9%E3%83%88%E8%A3%85%E7%BD%AE">猫-トースト装置</a>（<a href="http://ja.wikipedia.org/wiki/%E3%83%90%E3%82%BF%E3%83%BC%E7%8C%AB%E3%81%AE%E3%83%91%E3%83%A9%E3%83%89%E3%83%83%E3%82%AF%E3%82%B9">バター猫のパラドックス</a>）ってご存じですよね？</p>

<blockquote >
    <p>A - バターの塗られたトーストを落とすとバターの面が下になって床に落ちる<br />
B - 猫を高いところから落とすと足から着地する</p><p>AとBより、猫の背中にバターの塗られた面を上にしたトーストをつけて落とすと永久に床に着地しない</p>

    
</blockquote><p>今日はこの猫-トースト装置のAcmeモジュールをつくってみたいと思います。ご用意するものは</p><p><ul><br />
<li>猫　1Acme</li><br />
<li>トースト　1Acme</li><br />
</ul></p><p>CPANには猫に関するモジュールがいくつかありますが、本日は<a href="http://search.cpan.org/dist/Acme-Meow/">Acme::Meow</a>を使いましょう。このモジュール、機能は少ないですがPerl上で子猫が飼える優れもの。</p><p>しかしここで残念なお知らせ。CPANにはAcme::Toastが今のところ存在しません。どうする！？</p><p>そこでバター云々の話は、いわゆる<a href="http://ja.wikipedia.org/wiki/%E3%83%9E%E3%83%BC%E3%83%95%E3%82%A3%E3%83%BC%E3%81%AE%E6%B3%95%E5%89%87">マーフィーの法則</a>であることを思い出しましょう。そうすると<a href="http://search.cpan.org/dist/Acme-Murphy/">Acme::Murphy</a>があります。このモジュール、「うまくいかなそうなことはなんであれ、うまくいかない」というマーフィーの法則に従い、useすると必ず失敗（die）する優れもの。</p><br />
<p>両者を合体させれば、猫-トースト装置になるんじゃないの！？</p><p></p>

    <pre class="code prettyprint lang-perl">package Acme::CatToastDevice;

use warnings;
use strict;
use Sex qw( Acme::Murphy Acme::Meow );

our $VERSION = &#39;0.01&#39;;

1;</pre>
<p>合体には<a href="/articles/advent-calendar/2009/casual/05.html">昨年のアドベントカレンダー</a>でも取り上げられた<a href="http://search.cpan.org/dist/Sex/">Sex</a>を使います。いざAcme合体！</p>

    <pre class="code prettyprint lang-perl">$ perl -I./lib -MAcme::CatToastDevice</pre>

    <pre class="code prettyprint lang-perl">MORE! Baby. There! Let&#39;s talk about our relationship. YEAH! OOOooooh... Baseball... I thought eight inches was longer than that. OOOooooh... YES! There! OOOooooh... Harder! Recursive inheritance detected in package &#39;Exporter&#39; at ......../Sex.pm line 71.
BEGIN failed--compilation aborted at lib/Acme/CatToastDevice.pm line 5.
Compilation failed in require.
BEGIN failed--compilation aborted.</pre>
<p></p><p>エラーが出て失敗。終わった……</p><br />
<br />
<br />
<p>悔しいのでAcme::MeowのExport部分をコメントアウトします。</p><br />
<p></p>

    <pre class="code prettyprint lang-perl">package Acme::Meow;

use warnings;
use strict;

#require Exporter;
#use base qw[ Exporter ];
....</pre>
<p>でもよく考えたら（よく考えなくても）Acme::Meow、Acme::Murphyどちらのモジュールも落下に関する機能がありません。そこで、ついでにAcme::CatToastDeviceにfallというメソッドを用意しましょう。呼ぶと無限ループします。</p>

    <pre class="code prettyprint lang-perl">package Acme::CatToastDevice;

use warnings;
use strict;
use Sex qw( Acme::Murphy Acme::Meow );

our $VERSION = &#39;0.01&#39;;


sub fall {
    sleep 1 while 1;
}

1;</pre>
<p><br />
下記のようなサンプルコードをつくって、再チェレンジ。</p>

    <pre class="code prettyprint lang-perl">use strict;
use Acme::CatToastDevice;

print &#34;This is a cat-toast device!\n&#34;;

Acme::CatToastDevice-&gt;new-&gt;fall;

print &#34;With which side did it fall?\n&#34;;</pre>
<p><br />
コンゴトモヨロシク・・・</p><p></p>

    <pre class="code prettyprint lang-perl">$ perl test.pl
MORE! Does it get bigger? Yes! Does it get bigger? Mmmmmm... Mmmmmm... OOOooooh... YES! Does it get bigger? OOOooooh... Yes!
This is a cat-toast device!</pre>
<p>よし、成功！　ずっと着地しない！　……むなしいですね！！！</p><br />
<p>そんなこんなで、このお正月はあなたもAcme合体で新しいモジュールを創造してみては如何でしょうか。</p><br />
<br />
<p> * ----------------------------------------------------<br />
 * English version<br />
 * ----------------------------------------------------<br />
TITLE: Make a cat-toast device from Acme-union.</p><p>I AM <a href="http://twitter.com/maka2_donzoko">makamaka</a>. NICE TO MEET YOU...</p><p>Do you know <a href="http://uncyclopedia.wikia.com/wiki/Murphy%27s_law_application_for_antigravitatory_cats">cat-toast device</a>(<a href="http://en.wikipedia.org/wiki/Buttered_cat_paradox">Buttered cat paradox</a>)?</p><p></p>

<blockquote >
    <p>A - If you throw a slice of buttered toast into the air it will always fall with the buttered side down.<br />
B - A Cat will always land on its foots.</p><p>From A and B, a slice of toast with butter to a cat's back may just not fall. (from uncyclopedia)</p>

    
</blockquote><p>I'm going to make this device. Preparation:</p><p><ul><br />
<li>cat 1Acme</li><br />
<li>toast 1Acme</li><br />
</ul></p><br />
<p>There are some modules about cats on CPAN and I take <a href="http://search.cpan.org/dist/Acme-Meow/">Acme::Meow</a> today. It has a only few functions but a nice module becase of keeping a kitten in Perl.</p><p>Regrettable information: Acme::Toast currently does not exist on CPAN.<br />
Well, we remember the story of a sliec of toast with butter is the so-called Murphy's law. And <a href="http://search.cpan.org/dist/Acme-Murphy/">Acme::Murphy</a> on CPAN. It is a nice module because it always fails (die) to the letter 'if anything can go wrong, it will'.</p><p>Those two modules are combined, is it a cat-toast device!?</p><p></p>

    <pre class="code prettyprint lang-perl">package Acme::CatToastDevice;

use warnings;
use strict;
use Sex qw( Acme::Murphy Acme::Meow );

our $VERSION = &#39;0.01&#39;;

1;</pre>
<p>We can use <a href="http://search.cpan.org/dist/Sex/">Sex</a> module which was taken in <a href="/articles/advent-calendar/2009/casual/05.html">last yeat advent calendar</a>. Let's Acme-unite!</p>

    <pre class="code prettyprint lang-perl">$ perl -I./lib -MAcme::CatToastDevice</pre>

    <pre class="code prettyprint lang-perl">MORE! Baby. There! Let&#39;s talk about our relationship. YEAH! OOOooooh... Baseball... I thought eight inches was longer than that. OOOooooh... YES! There! OOOooooh... Harder! Recursive inheritance detected in package &#39;Exporter&#39; at ......../Sex.pm line 71.
BEGIN failed--compilation aborted at lib/Acme/CatToastDevice.pm line 5.
Compilation failed in require.
BEGIN failed--compilation aborted.</pre>
<p><br />
Error.... Good-bye!</p><br />
<br />
<br />
<p>How disappointing! I comment out lines about Export in Acme::Meow!</p><br />
<p></p>

    <pre class="code prettyprint lang-perl">package Acme::Meow;

use warnings;
use strict;

#require Exporter;
#use base qw[ Exporter ];
....</pre>
<p>But I thought deeply, both Acme::Meow and Acme::Murphy do not have a method relates to fall. So we added fall method into Acme::CatToastDevice. Calling it will cause an infinite loop.</p>

    <pre class="code prettyprint lang-perl">package Acme::CatToastDevice;

use warnings;
use strict;
use Sex qw( Acme::Murphy Acme::Meow );

our $VERSION = &#39;0.01&#39;;


sub fall {
    sleep 1 while 1;
}

1;</pre>
<p><br />
Retry with the below sample code.</p>

    <pre class="code prettyprint lang-perl">use strict;
use Acme::CatToastDevice;

print &#34;This is a cat-toast device!\n&#34;;

Acme::CatToastDevice-&gt;new-&gt;fall;

print &#34;With which side did it fall?\n&#34;;</pre>
<p><br />
NICE TO MEET YOU...</p><p></p>

    <pre class="code prettyprint lang-perl">$ perl test.pl
MORE! Does it get bigger? Yes! Does it get bigger? Mmmmmm... Mmmmmm... OOOooooh... YES! Does it get bigger? OOOooooh... Yes!
This is a cat-toast device!</pre>
<p>Successful!  It never land! It's in vain!!!</p><br />
<p>Well, in this winter vacation, would you like to unite Acme modules into a new Acme.</p>

        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>
    </body>
</html>
