<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>J言語で記号プログラミング - Articles Advent Calendar 2010 Sym</title>
        <meta name="title" content="J言語で記号プログラミング - Articles Advent Calendar 2010 Sym">
        <meta name="description" content="">
        <meta name="author" content="">

        <meta property="og:type" content="website">
        <meta property="og:url" content="https://perl-users.jp/articles/advent-calendar/2010/sym/6">
        <meta property="og:title" content="J言語で記号プログラミング - Articles Advent Calendar 2010 Sym">
        <meta property="og:description" content="">
        <meta property="og:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:J%E8%A8%80%E8%AA%9E%E3%81%A7%E8%A8%98%E5%8F%B7%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://perl-users.jp/articles/advent-calendar/2010/sym/6">
        <meta property="twitter:title" content="J言語で記号プログラミング - Articles Advent Calendar 2010 Sym">
        <meta property="twitter:description" content="">
        <meta property="twitter:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:J%E8%A8%80%E8%AA%9E%E3%81%A7%E8%A8%98%E5%8F%B7%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <link rel="icon" href="/img/favicon.ico">
        <link rel="canonical" href="https://perl-users.jp/articles/advent-calendar/2010/sym/6">
        <link href="TODO" rel="stylesheet">
    </head>
    <body>
        <h1>J言語で記号プログラミング</h1>
        tag

        <p>こんにちは、<a href="http://twitter.com/ucq">勇士Q</a>です。<br />
他にも記号プログラミングできるような言語を紹介したいなぁということで参加させて頂きました。</p><p><a href="http://ja.wikipedia.org/wiki/J_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)">J</a>はかの特殊な記号を使う<a href="http://ja.wikipedia.org/wiki/APL">APL</a>の後継として生まれた言語です。<br />
APLとは違って特殊な記号ではなく普通の記号で使用できるようになったため、まさに記号プログラミング向けの言語ですね。</p>

<div class="section">
    <h3>記号だけで数字を作ろう</h3>
    <p>とりあえず、記号だけで任意の数字を表現してみましょう。<br />
Jには記号だけをつかった特別な数値があります。</p>

    <pre class="code prettyprint">_   NB. 無限大
__　NB. 無限小
_. NB. 不定形</pre>
<p>これに対して上手く演算を行えば任意の数字が作れそうです。文字数が少ない「_」を使って、簡単な数字を作ってみましょう。</p>

    <pre class="code prettyprint">%_  NB. 0
*_  NB. 1</pre>
<p>無事に0と1がつくれました。同様に演算を行っていくと任意の数字をつくることができます。</p>

    <pre class="code prettyprint">0:   %_
1:   *_ 
1:   !*_
2:   +:*_
3:   &gt;.^*_
4:   +:+:*_
5:   &gt;.!^*_
6:   !&gt;.^*_
7:   &lt;.*:^*_
8:   &gt;.*:^*_
9:   *:&gt;.^*_
10:  +:&gt;.!^*_
11:  &gt;.+:+:^*_
12:  +:!&gt;.^*_
13:  &lt;.^!-^*_
14:  &lt;:&lt;.^^*_
15:  &lt;.^^*_
16:  &gt;.^^*_
17:  &gt;:&gt;.^^*_
18:  &lt;.*:!^*_
19:  &gt;.*:!^*_
20:  &lt;.^&gt;.^*_
21:  &gt;.^&gt;.^*_
22:  &gt;:&gt;.^&gt;.^*_
23:  &lt;:!+:+:*_
24:  !+:+:*_
25:  *:&gt;.!^*_
26:  &lt;.^&lt;:!^*_
27:  &gt;.^&lt;:!^*_
28:  &lt;.^.!^^*_
29:  &lt;.*:+:^*_
30:  +:&lt;.^^*_
31:  &gt;.+:^^*_
32:  +:&gt;.^^*_
33:  &gt;:+:&gt;.^^*_
34:  &lt;:&lt;.!!^*_
35:  &lt;.!!^*_
36:  &gt;.!!^*_
37:  &gt;:&gt;.!!^*_
38:  +:&gt;.*:!^*_
39:  &lt;.^!!-^*_
40:  &gt;.^!!-^*_
41:  &lt;.^&gt;:^*_
42:  &gt;.^&gt;:^*_
43:  &gt;:&gt;.^&gt;:^*_
44:  &lt;.*:*:!-^*_
45:  &lt;.!^!%:^*_
46:  &gt;.!^!%:^*_
47:  &lt;.!&lt;:+:^*_
48:  +:!+:+:*_
49:  *:&lt;.*:^*_
50:  &gt;.^%:^^*_
51:  &gt;.!^&gt;:-:*_
52:  +:&lt;.^&lt;:!^*_
53:  &lt;:&lt;.*:*:^*_
54:  &lt; .*:*:^*_
55:  &gt;.*:*:^*_
56:  &gt;:&gt;.*:*:^*_
57:  &lt;.*:-:^^*_
58:  &gt;.*:-:^^*_
59:  &lt;.+:*:+:^*_
60:  -:!&gt;.!^*_
61:  &lt;.^^%:+:*_
62:  +:&gt;.+:^^*_
63:  &lt;:*:&gt;.*:^*_
64:  *:&gt;.*:^*_
65:  &gt;:*:&gt;.*:^*_
66:  &lt;.^&lt;:^%:^*_
67:  &gt;.^&lt;:^%:^*_
68:  +:&lt;:&lt;.!!^*_
69:  &lt;:&lt;.^!^*_
70:  &lt;.^!^*_
71:  &gt;.^!^*_
72:  +:&gt;.!!^*_
73:  &gt;.*:+:!^*_
74:  &lt;.!&gt;:&gt;:^*_
75:  &gt;.!&gt;:&gt;:^*_
76:  &gt;.^.!+:^^*_
77:  &lt;.*:!+:%:^*_
78:  &gt;.*:!+:%:^*_
79:  &lt;:&lt;:*:*:&gt;.^*_
80:  &lt;:*:*:&gt;.^*_
81:  *:*:&gt;.^*_
82:  +:&lt;.^&gt;:^*_
83:  &gt;.+:^&gt;:^*_
84:  +:&gt;.^&gt;:^*_
85:  &gt;.^&lt;:+:^*_
86:  +:&gt;:&gt;.^&gt;:^*_
87:  &lt;:&lt;.^^&gt;:-:*_
88:  &lt;.^^&gt;:-:*_
89:  &gt;.^^&gt;:-:*_
90:  &lt;.-:^^%:^*_
91:  -:&gt;.^^%:^*_
92:  +:+:&lt;:!+:+:*_
93:  &lt;.^*:-:!^*_
94:  -:&lt;.!&gt;:!^*_
95:  &lt;.^.!!!^*_
96:  &gt;.^.!!!^*_
97:  &lt;.*:*:^.-*_
98:  +:*:&lt;.*:^*_
99:  &gt;.+:^%:^^*_
100: *:+:&gt;.!^*_
101: &gt;.!&gt;:%:^^*_
102: +:&gt;.!^&gt;:-:*_
103: &gt;:+:&gt;.!^&gt;:-:*_
104: &lt;:&lt;.%:!*:^*_
105: &lt;.%:!*:^*_
106: &gt;.%:!*:^*_
107: &gt;:&gt;.%:!*:^*_
108: +:&lt;.*:*:^*_
109: &lt;.+:*:*:^*_
110: +:&gt;.*:*:^*_
111: &lt;.^&gt;:&gt;:^*_
112: &gt;.^&gt;:&gt;:^*_
113: -:&gt;:*:&lt;.^^*_
114: &lt;.-:*:^^*_
115: -:&gt;.*:^^*_
116: +:&gt;.*:-:^^*_
117: &lt;:&lt;.*:+:+:^*_
118: &lt;.*:+:+:^*_
119: &lt;:!&gt;.!^*_
120: !&gt;.!^*_
121: &gt;:!&gt;.!^*_
122: &gt;:&gt;:!&gt;.!^*_
123: &gt;.+:^^%:+:*_
124: +:+:&gt;.+:^^*_
125: -:&lt;.*:!&gt;:^*_
126: &gt;.-:*:!&gt;:^*_
127: &lt;.*:^^!-:*_</pre>
<p>変数が使えず、1から作っていくためどうしても長くなってしまうのが少し残念なところです。</p>

</div>
<div class="section">
    <h3>文字列を作ろう</h3>
    <p>困ったことに、数字と記号から直接文字に変換する方法がありません。<br />
しかし、「a.」でASCIIのリストが取得できるので、そこから取り出せば他の文字も生成できます。なんとしてでも文字列「a」を生成したいところです。<br />
探してみたところ運良く「18!:5''」というCurrent localeを表示し、デフォルトで文字列「base」を含むリストを返してくれるものがあったのでそれを使うことにします。<br />
ここから切り出せば「a.」が作れますね。</p>

    <pre class="code prettyprint">(1{&gt;18!:5&#39;&#39;),&#39;.&#39; NB. &#39;a.&#39;</pre>
<p>このままではただの文字列なのでこれをevalしたいわけですが、Jでは動詞「".」を使うことでそれが可能です。</p>

    <pre class="code prettyprint">&#34;.(1{&gt;18!:5&#39;&#39;),&#39;.&#39; NB. ASCIIリスト</pre>
<p>これで無事にリストがとれました。<br />
さらに、リストから要素を取り出す動詞「{」をつかって「ASCIIコードのリスト{a.」で任意の文字列を生成できます。</p>

</div>
<div class="section">
    <h3>Hello, world!</h3>
    <p>以上のことを含めて、「Hello, world!」を書いてみましょう。<br />
記号化する前のコードはこんな以下のような感じになります。非常にシンプルですね。</p>

    <pre class="code prettyprint">(72, 101, 108, 108, 111, 44, 32, 119, 111, 114, 108, 100, 33){a.</pre>
<p>あとは記号だけにする簡単なお仕事になります。</p>

    <pre class="code prettyprint">((+:&gt;.!!^*_),(&gt;.!&gt;:%:^^*_),(+:&lt;.*:*:^*_),(+:&lt;.*:*:^*_),(&lt;.^&gt;:&gt;:^*_),(&lt;.*:*:!-^*_),(+:&gt;.^^*_),(&lt;:!&gt;.!^*_),(&lt;.^&gt;:&gt;:^*_),(&lt;.-:*:^^*_),(+:&lt;.*:*:^*_),(*:+:&gt;.!^*_),(&gt;:+:&gt;.^^*_)){&#34;.((*_){&gt;(+:*:&gt;.^*_)!:(&gt;.!^*_)&#39;&#39;),&#39;.&#39;</pre>
<p>完成です！ これを実行すると見事に、「Hello, world!」と表示されます。</p>

</div>
        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>
    </body>
</html>
