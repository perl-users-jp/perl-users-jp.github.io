<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>PHPでも記号プログラミング！ - Articles Advent Calendar 2010 Sym</title>
        <link rel="icon" href="/img/favicon.ico">
        <link href="TODO" rel="stylesheet">
    </head>
    <body>
        <h1>PHPでも記号プログラミング！</h1>

        <p>こんにちは。<a href="http://twitter.com/hnw">hnw</a>と申します。仕事でPHPのコードを書いたり読んだりしています。PHPは別に好きじゃないと言いつつ、PHPがDISられるとムキになっちゃうような、ちょっと面倒なタイプの人間です。</p><p>このイベントではPHPの話題を何回か書かせて頂きます。</p><p>では、本題に入りましょう。PHPに慣れていない方も多いと思いますので、まずはPHPでHello, worldに挑戦してみます。</p>

    <pre class="code">&lt;?=(&#39;`&#39;^&#39;(&#39;).(&#39;_&#39;^&#39;:&#39;).(&#39;@&#39;^&#39;,&#39;).(&#39;@&#39;^&#39;,&#39;).(&#39;@&#39;^&#39;/&#39;).(&#39;,&#39;).(&#39;~&#39;^&#39;^&#39;).(&#39;_&#39;^&#39;(&#39;).(&#39;@&#39;^&#39;/&#39;).(&#39;_&#39;^&#39;-&#39;).(&#39;@&#39;^&#39;,&#39;).(&#39;_&#39;^&#39;;&#39;).(&#39;!&#39;)?&gt;</pre>
<p>PHP使いの人なら見慣れたPHPのコードです。では、早速実行してみましょう。</p>

    <pre class="code">$ php -d short_open_tag=1 /tmp/hello.php
Hello, world!</pre>
<p>無事、記号だけで動作しました！PHPでは「&lt;?= ?&gt;」で囲まれた部分の評価結果を表示できるので、これを利用したわけです。ただし、これは通常の環境では有効ではありません。php.iniディレクティブの<a href="http://www.php.net/manual/ja/ini.core.php#ini.short-open-tag">short_open_tag</a>を"1"にする必要があります。</p><p>評価式の部分では、記号だけで1文字づつ文字列連結しているだけです。PHPではPerl同様、文字列に対してビット演算（AND,OR,XOR,NOT）ができるので、記号だけで0x00から0xffまでの全ての文字を作ることが可能です。たとえば、UTF-8で「はろー、わーるど！」とする場合は次のようになります。</p>

    <pre class="code">&lt;?=(&#39;`&#39;|~&#39;|&#39;).(~&#39;~&#39;).(&#39;/&#39;|~&#39;~&#39;).(&#39;`&#39;|~&#39;|&#39;).(&#39;_&#39;^~&#39;&#34;&#39;).(&#39;_&#39;^~&#39;-&#39;).(&#39;`&#39;|~&#39;|&#39;).(~&#39;|&#39;).(&#39;&lt;&#39;|~&#39;_&#39;).
(&#39;`&#39;|~&#39;|&#39;).(&#39;^&#39;^~&#39;!&#39;).(~&#39;~&#39;).(&#39;`&#39;|~&#39;|&#39;).(&#39;_&#39;^~&#39;&#34;&#39;).(&#39;_&#39;^~&#39;/&#39;).(&#39;`&#39;|~&#39;|&#39;).(~&#39;|&#39;).(&#39;&lt;&#39;|~&#39;_&#39;).
(&#39;`&#39;|~&#39;|&#39;).(&#39;_&#39;^~&#39;&#34;&#39;).(&#39;_&#39;^~&#39;+&#39;).(&#39;`&#39;|~&#39;|&#39;).(~&#39;~&#39;).(&#39;)&#39;|~&#39;~&#39;).(&#39;/&#39;|~&#39;?&#39;).(&#39;&lt;&#39;|~&#39;_&#39;).(~&#39;~&#39;)?&gt;</pre>
<p>Perlと同じままだと工夫が無いので、次回はPHPならではの話題を紹介します。ではまた！</p>

        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>
    </body>
</html>
