<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>モジュールのバージョンを確認するときどうやってますか？ - Articles Advent Calendar 2010 Casual</title>
        <link rel="icon" href="/img/favicon.ico">
        <link href="TODO" rel="stylesheet">
    </head>
    <body>
        <h1>モジュールのバージョンを確認するときどうやってますか？</h1>

        <p>もう恋なんてしないなんて、言わないよ絶対kamipoです。</p><p>ときに皆さん、Perlのモジュールのバージョンを確認するときどうしてますか？<br />
僕はPerlをはじめた最初のころ、ずっとこうやっていました。</p>

    <pre class="code prettyprint">$ perl -MAcme::Hidek -le &#39;print $Acme::Hidek::VERSION&#39;
40.0</pre>
<p>こうやってたの、僕だけじゃないですよね！？</p><p>いまでは以下のワンライナーにaliasを張っているので毎回がんばってワンライナーを打たなくてよくなりました。</p>

    <pre class="code prettyprint">$ alias pmversion=&#39;perl -le &#39;&#34;&#39;&#34;&#39;for $module (@ARGV) { eval &#34;use $module&#34;; print &#34;$module &#34;, ${&#34;$module\::VERSION&#34;} || &#34;not found&#34; }&#39;&#34;&#39;&#34;
$ pmversion Acme::Hidek Acme::AKB48
Acme::Hidek 40.0
Acme::AKB48 not found</pre>
<p>複数のモジュールを指定できて、まだインストールされてないモジュールのときは「not found」を表示してくれるのでとっても親切ですね！</p><p>このワンライナーを書いたときは知らなかったんですが、同様のことをするpmversというモジュールもCPANにはありました。</p>

    <pre class="code prettyprint">$ cpanm pmvers
$ pmvers Acme::Hidek
40.0</pre>
<p>また、typesterさんに教えてもらった方法で以下のやり方もあります。</p>

    <pre class="code prettyprint">$ perl -MAcme::Hidek\ 9999
Acme::Hidek version 9999 required--this is only version 40.0.
BEGIN failed--compilation aborted.</pre>
<p>他にもおもしろい方法があったらぜひ教えてください！</p><p></p>

<div class="section">
    <h4>追記</h4>
    <p>いろんな方法を教えてもらいました！</p><br />
<p>fbisさんの方法</p>

    <pre class="code prettyprint">$ perl -e &#34;use Acme::Hidek 9999&#34;
Acme::Hidek version 9999 required--this is only version 40.0 at -e line 1.
BEGIN failed--compilation aborted at -e line 1.</pre>
<p>typesterさんに教えてもらった方法だとwindowsでうまく動いてくれないんだそうです。<br />
まぁ同じことですけどwindowsの人は要注意ですね！</p><br />
<p>gfxさん、makamakaさんの方法</p>

    <pre class="code prettyprint">$ cpanm V
$ perl -MV=Acme::Hidek,Acme::AKB48
Acme::Hidek
    /usr/local/lib/perl/5.10.1/Acme/Hidek.pm: 40.0
Acme::AKB48
    Not found</pre>
<p> -MVって指定できるのがコマンドラインオプションみたいでかっこいいV.pm<br />
複数モジュール指定できてインストールされてるパスも表示してくれるすぐれものですね！</p><br />
<p>hirose31さんの方法</p>

<ul>
<li><a href="https://gist.github.com/749928">https://gist.github.com/749928</a></li>
</ul>
    <pre class="code prettyprint">$ pmver Acme::Hidek
40.0
/usr/local/lib/perl/5.10.1/Acme/Hidek.pm</pre>
<p>V.pmと同等の機能を備えていて<br />
 -cd オプションを指定するとモジュールのディレクトリにcdしてくれる便利機能がこころにくいですね！</p><br />
<p>kitsさんの方法</p>

    <pre class="code prettyprint">$ perldoc -m Acme::Hidek</pre>
<p>perldoc -m でソースコードを直に見てしまう一石二鳥な方法ですね！</p><br />
<p>他にもモジュールのバージョンを確認できるCPANモジュールはありますが<br />
xaicronさんが昔いろいろ教えてもらってブログにまとめているのでそちらも参照してみてください！</p>

<ul>
<li><a href="http://blog.livedoor.jp/xaicron/archives/51037778.html">&#x306B;&#x3072;&#x308A;&#x305A;&#x3080;::&#x3057;&#x3093;&#x3077;&#x308B; - &#x30E2;&#x30B8;&#x30E5;&#x30FC;&#x30EB;&#x306E; version &#x3092;&#x8868;&#x793A;&#x3059;&#x308B; &#x30B7;&#x30A7;&#x30EB;&#x95A2;&#x6570;&#x66F8;&#x3044;&#x305F;</a></li>
</ul><p>以上、教えてもらったいろんな方法の紹介でした！</p><br />
<p>明日はAcme大全が大人気のまかまか先生です！楽しみですね！</p>

</div>
        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>
    </body>
</html>
