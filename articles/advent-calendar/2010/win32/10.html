<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>それ多分Perlでできるよ - Articles Advent Calendar 2010 Win32</title>
        <meta name="title" content="それ多分Perlでできるよ - Articles Advent Calendar 2010 Win32">
        <meta name="description" content="">
        <meta name="author" content="turugina <turugina@cpan.org>">

        <meta property="og:type" content="website">
        <meta property="og:url" content="https://perl-users.jp/articles/advent-calendar/2010/win32/10">
        <meta property="og:title" content="それ多分Perlでできるよ - Articles Advent Calendar 2010 Win32">
        <meta property="og:description" content="">
        <meta property="og:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:%E3%81%9D%E3%82%8C%E5%A4%9A%E5%88%86Perl%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:turugina%20%3Cturugina%40cpan.org%3E,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://perl-users.jp/articles/advent-calendar/2010/win32/10">
        <meta property="twitter:title" content="それ多分Perlでできるよ - Articles Advent Calendar 2010 Win32">
        <meta property="twitter:description" content="">
        <meta property="twitter:image" content="https://res.cloudinary.com/kfly8/image/upload/l_text:NotoSansJP-Black.otf_50_bold:%E3%81%9D%E3%82%8C%E5%A4%9A%E5%88%86Perl%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88,co_rgb:000000,w_900,c_fit/l_text:NotoSansJP-Black.otf_30_bold:turugina%20%3Cturugina%40cpan.org%3E,co_rgb:000000,g_south_east,x_130,y_120/v1601626948/og-perl-users-jp.png">

        <link rel="icon" href="/img/favicon.ico">
        <link rel="canonical" href="https://perl-users.jp/articles/advent-calendar/2010/win32/10">
        <link href="TODO" rel="stylesheet">
    </head>
    <body>
        <h1>それ多分Perlでできるよ</h1>
        tag
            <a href='/tag/perl'>perl</a>
            <a href='/tag/win32'>win32</a>

        <p>どもです、こっそりWin32Trackに参加したら速攻でcharsbarさんに「次お前な」といわれてしまいました、<a href="http://floralcompany.jp/">turugina</a>です。一応<a href="http://kansai.pm.org/">kansai.pm</a>所属らしいです。</p><p>さて、今回はperl/binディレクトリの中から 「*nix環境には普通にあるけど、Windows環境にはない」というコマンドの代替スクリプトのようなものをいくつか紹介してみたいと思います。</p>

<div class="section">
    <h3><a href="http://search.cpan.org/perldoc?ptar">ptar</a></h3>
    <p><a href="http://search.cpan.org/dist/Archive-Tar/">Archive::Tar</a>付属スクリプト。 tarコマンドっぽいスクリプト。</p><p>tarコマンドと違って オプション指定にハイフンが必須だったり圧縮オプションはz(zlib圧縮)しか対応してなかったり(伸長はbzip2でも大丈夫)と微妙に使いづらい気も...</p><p>とりあえず、perlのソースコード tarball はこのptarで問題なく展開できるはずです。</p><p>おまけで(?) tarファイルの中身とディレクトリとのdiffを取る ptardiff や tarファイル内をgrepするための ptargrep なんてのもいます。</p>

</div>
<div class="section">
    <h3><a href="http://search.cpan.org/perldoc?find2perl">find2perl</a></h3>
    <p><a href="http://search.cpan.org/perldoc?File::Find">File::Find</a>付属スクリプト(で、いいんだっけ)。 findコマンド互換の引数を取り、実行可能なperl scriptを吐き出します。</p><p>例えばカレントディレクトリ及び下位ディレクトリ内にある一週間以上前に修正された*.txtファイルを探すなんて場合は</p>

    <pre class="code prettyprint">C:\&gt;find2perl . -mtime +7 -a -name &#34;*.txt&#34; | perl</pre>
<p>のようにします。</p>

</div>
<div class="section">
    <h3>lwp-***</h3>
    <p><a href="http://search.cpan.org/dist/libwww-perl/">libwww-perl (LWP)</a>付属スクリプト群。 wgetやcurlの代わりに割と使える。</p><p>指定したURLからファイルをダウンロードする lwp-download, ファイルの修正日付を考慮してミラーリングを行う lwp-mirror,  再帰的にWebページを取得する lwp-rget などがあります。</p>

</div>
<div class="section">
    <h3><a href="http://search.cpan.org/perldoc?psed">psed</a></h3>
    <p>sed互換スクリプト。 これは一体誰得なんでしょうか...</p>

</div>
<div class="section">
    <h3><a href="http://search.cpan.org/perldoc?pwhich">pwhich</a></h3>
    <p><a href="http://search.cpan.org/dist/File-Which/">File::Which</a>付属スクリプト。実行ファイルのパスを調べてくれる便利屋さん</p>

    <pre class="code prettyprint">C:\&gt;pwhich explorer
C:\WINDOWS\explorer.EXE</pre>
<p>ちなみにどーでもいいことですが、私はこいつの存在に気がつかずに独自にwhichスクリプトを書いていました。</p>

</div>
<div class="section">
    <h3><a href="http://search.cpan.org/dist/md5sum-perl/">md5sum-perl</a>, <a href="http://search.cpan.org/perldoc?shasum">shasum</a></h3>
    <p>md5sum-perl は単独のdistribution, shasumは<a href="http://search.cpan.org/dist/Digest-SHA-PurePerl/">Digest::SHA::PurePerl</a>付属スクリプト。</p><p>それぞれ、 md5sum や sha1sum 等の 互換 ... だと思います。</p><p><ins>はてブコメントでgfxさんに「piconv様を忘れるとは何事だｺﾞﾙｧ」とお叱りをいただきました。素で忘れてたんです。ゴメンナサイ</ins></p><p><ins>というわけで追記 @2010-12-10 21:50</ins></p>

</div>
<div class="section">
    <h3><a href="http://search.cpan.org/perldoc?piconv">piconv</a></h3>
    <p>あのdankogaiさんがmaintainerを努める<a href="http://search.cpan.org/dist/Encode">Encode</a>の付属スクリプト。文字コード変換API/ツールである<a href="http://ja.wikipedia.org/wiki/Iconv">iconv</a>のperl版</p><p>使用例としてはlwp-requestと組み合わせて</p>

    <pre class="code prettyprint">C:\&gt;lwp-request http://example.com/written-in-utf8.txt | piconv -f utf-8 -t cp932 | more</pre>
<p>なんてのが出来ますかね。<br />
 <br />
<hr /></p><p>とりあえずこんな感じで。</p><p>みなさんもお暇な時にでも dir X:\path\to\perl\bin\*.bat して何か便利そうなスクリプトがいつの間に入っていないか気にかけてあげてください。</p><br />
<p>さて、commitの履歴を辿ると.. 次ははせがわさんでしょうか。</p>

</div>
        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>
    </body>
</html>
